import matplotlib.pyplot as plt
import networkx as nx

# Define the flowchart steps
G = nx.DiGraph()

nodes = {
    "start": "Start",
    "load_data": "Load Data from wordle.dat",
    "prompt": "Prompt User:\nSearch by Word or Date?",
    "get_word": "Input Word",
    "find_word": "Search Word in List",
    "display_word_result": "Display Date or Not Found",
    "get_date": "Input Year, Month, Day",
    "merge_date": "Merge Date to YYYYMMDD",
    "find_date": "Search Date in List",
    "display_date_result": "Display Word or Not Found",
    "end": "End"


for node, label in nodes.items():
    G.add_node(node, label=label)

edges = [
    ("start", "load_data"),
    ("load_data", "prompt"),
    ("prompt", "get_word"),
    ("prompt", "get_date"),
    ("get_word", "find_word"),
    ("find_word", "display_word_result"),
    ("get_date", "merge_date"),
    ("merge_date", "find_date"),
    ("find_date", "display_date_result"),
    ("display_word_result", "end"),
    ("display_date_result", "end")
]

G.add_edges_from(edges)

# Use Graphviz for clean layout
pos = nx.nx_pydot.graphviz_layout(G, prog="dot")

# Draw flowchart
plt.figure(figsize=(12, 10))
nx.draw(G, pos, with_labels=False, node_size=3000, node_color="lightblue", arrows=True)
labels = nx.get_node_attributes(G, 'label')
nx.draw_networkx_labels(G, pos, labels, font_size=10)
plt.title("Flowchart of Wordle Search Program")
plt.axis('off')
plt.show()
